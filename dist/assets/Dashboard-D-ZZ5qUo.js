import{d as s,g as f,m as D,c as v,a as e,h as $,w as g,v as x,F as P,r as N,t as r,i as F,p as M,f as V,T as q,o as p,n as A}from"./index-XrjGcg8B.js";import{S as y}from"./sweetalert2.esm.all-BQIkj5Wb.js";/* empty css                        */const U={class:"max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-xl"},z={class:"flex items-center justify-between mb-4"},j={class:"mb-4"},E={class:"min-w-full text-sm border rounded-lg overflow-hidden"},I={class:"p-3 font-mono"},L={class:"p-3 font-semibold"},O={class:"p-3"},Z={class:"p-3 capitalize"},G={class:"p-3"},H={class:"mt-4 flex justify-end items-center gap-2 text-sm"},R=["disabled"],X=["disabled"],Y={key:0,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},K={class:"bg-white rounded-xl shadow-lg w-full max-w-lg p-8 relative"},J={class:"flex flex-col"},Q={class:"flex flex-col"},W=["value"],ee={class:"flex flex-col"},te={class:"flex flex-col"},h=5,ne={__name:"Dashboard",setup(oe){const b=s(!1),l=s(""),u=s(""),d=s(""),n=s(""),m=s(""),i=s(1),c=s([{numero:1001,placa:"ABC-123",tipo:"Particular",combustible:"gasolina",fecha:"02/08/2025"},{numero:1002,placa:"12XYZ78",tipo:"Discapacidad",combustible:"diesel",fecha:"02/08/2025"},{numero:1003,placa:"XY1234",tipo:"Carga",combustible:"hibrido",fecha:"01/08/2025"}]),w=f(()=>m.value?c.value.filter(a=>a.placa.toLowerCase().includes(m.value.toLowerCase())):c.value),C=f(()=>Math.ceil(w.value.length/h)),S=f(()=>{const a=(i.value-1)*h;return w.value.slice(a,a+h)});D(()=>{const a=new Date;n.value=a.toISOString().slice(0,10)});function T(a){const t=a.toUpperCase();return/^[A-Z]{3}/.test(t)?"Particular":/^\d{2}/.test(t)?"Discapacidad":/^[A-Z]{2}/.test(t)?"Carga":"Desconocido"}function k(){u.value=T(l.value)}function _(){if(!l.value||!d.value||!n.value){y.fire({title:"Campos incompletos",text:"Por favor completa todos los campos.",icon:"error",confirmButtonText:"Entendido"});return}k(),y.fire({title:"¿Confirmar datos?",html:`
      <strong>Placa:</strong> ${l.value} <br/>
      <strong>Tipo:</strong> ${u.value} <br/>
      <strong>Combustible:</strong> ${d.value} <br/>
      <strong>Fecha:</strong> ${n.value}
    `,icon:"question",showCancelButton:!0,confirmButtonText:"Sí, guardar",cancelButtonText:"Cancelar"}).then(a=>{if(a.isConfirmed){const t=c.value.length?c.value.at(-1).numero+1:1001;c.value.push({numero:t,placa:l.value,tipo:u.value,combustible:d.value,fecha:n.value}),y.fire({title:"Nota registrada",text:`Se ha guardado la nota para la placa ${l.value}.`,icon:"success",confirmButtonText:"OK"}).then(()=>{b.value=!1,l.value="",u.value="",d.value="";const o=new Date;n.value=o.toISOString().slice(0,10),i.value=1})}})}return(a,t)=>(p(),v(P,null,[e("div",U,[e("div",z,[t[8]||(t[8]=e("h2",{class:"text-3xl font-bold text-gray-800"},"Historial de Notas",-1)),e("button",{onClick:t[0]||(t[0]=o=>b.value=!0),class:"px-4 py-2 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-md shadow-sm transition"}," Registrar nota ")]),e("div",j,[g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>m.value=o),placeholder:"Buscar por placa...",class:"w-full px-4 py-2 border border-slate-300 rounded-md bg-gray-50 text-sm"},null,512),[[x,m.value]])]),e("table",E,[t[9]||(t[9]=e("thead",{class:"bg-gray-100 text-left"},[e("tr",null,[e("th",{class:"p-3 font-bold text-gray-600"},"Nota #"),e("th",{class:"p-3 font-bold text-gray-600"},"Placa"),e("th",{class:"p-3 font-bold text-gray-600"},"Tipo"),e("th",{class:"p-3 font-bold text-gray-600"},"Combustible"),e("th",{class:"p-3 font-bold text-gray-600"},"Fecha")])],-1)),e("tbody",null,[(p(!0),v(P,null,N(S.value,(o,B)=>(p(),v("tr",{key:o.numero,class:A(B%2===0?"bg-white":"bg-gray-50")},[e("td",I,r(o.numero),1),e("td",L,r(o.placa),1),e("td",O,r(o.tipo),1),e("td",Z,r(o.combustible),1),e("td",G,r(o.fecha),1)],2))),128))])]),e("div",H,[e("button",{onClick:t[2]||(t[2]=o=>i.value--),disabled:i.value===1,class:"px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50"}," ← Anterior ",8,R),e("span",null,"Página "+r(i.value)+" de "+r(C.value),1),e("button",{onClick:t[3]||(t[3]=o=>i.value++),disabled:i.value===C.value,class:"px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50"}," Siguiente → ",8,X)])]),(p(),$(q,{to:"body"},[b.value?(p(),v("div",Y,[e("div",K,[e("button",{onClick:t[4]||(t[4]=o=>b.value=!1),class:"absolute top-3 right-3 text-gray-500 hover:text-red-500 text-xl"},"×"),e("form",{onSubmit:M(_,["prevent"]),class:"space-y-4"},[t[15]||(t[15]=e("h2",{class:"text-lg font-semibold text-center text-sky-700"},"Registro de Nota",-1)),e("div",J,[t[10]||(t[10]=e("label",{class:"text-sm font-medium"},"Placa",-1)),g(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>l.value=o),onInput:k,type:"text",class:"px-3 py-1 border border-slate-400 rounded-md bg-white",required:""},null,544),[[x,l.value]])]),e("div",Q,[t[11]||(t[11]=e("label",{class:"text-sm font-medium"},"Tipo de placa",-1)),e("input",{value:u.value,disabled:"",class:"px-3 py-1 border border-slate-400 rounded-md bg-gray-100 text-gray-700"},null,8,W)]),e("div",ee,[t[13]||(t[13]=e("label",{class:"text-sm font-medium"},"Tipo de combustible",-1)),g(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>d.value=o),class:"px-3 py-1 border border-slate-400 rounded-md bg-white",required:""},t[12]||(t[12]=[e("option",{disabled:"",value:""},"Selecciona tipo",-1),e("option",{value:"gasolina"},"Gasolina",-1),e("option",{value:"diesel"},"Diésel",-1),e("option",{value:"electrico"},"Eléctrico",-1),e("option",{value:"hibrido"},"Híbrido",-1)]),512),[[V,d.value]])]),e("div",te,[t[14]||(t[14]=e("label",{class:"text-sm font-medium"},"Fecha",-1)),g(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>n.value=o),type:"date",class:"px-3 py-1 border border-slate-400 rounded-md bg-white",required:""},null,512),[[x,n.value]])]),t[16]||(t[16]=e("button",{type:"submit",class:"w-full py-2 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-md transition"}," Guardar nota ",-1))],32)])])):F("",!0)]))],64))}};export{ne as default};
