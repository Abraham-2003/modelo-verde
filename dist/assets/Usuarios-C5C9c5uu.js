import{d as l,g as f,c as x,a as e,h as M,w as u,f as C,F as U,r as T,t as r,i as V,p as B,v as y,T as P,o as m,n as R}from"./index-BPA-GSpv.js";import{S as j}from"./sweetalert2.esm.all-BQIkj5Wb.js";/* empty css                        */const A={class:"max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-xl"},N={class:"flex items-center justify-between mb-4"},$={class:"mb-4 flex gap-3 items-center"},q={class:"min-w-full text-sm border rounded-lg overflow-hidden"},F={class:"p-3"},L={class:"p-3 font-semibold"},D={class:"p-3"},E={class:"p-3 capitalize"},G={class:"mt-4 flex justify-end items-center gap-2 text-sm"},I=["disabled"],_=["disabled"],K={key:0,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},O={class:"bg-white rounded-xl shadow-lg w-full max-w-lg p-8 relative"},H={class:"flex flex-col"},J={class:"flex flex-col"},Q={class:"flex flex-col"},W={class:"flex flex-col"},c=5,oe={__name:"Usuarios",setup(X){const p=l(!1),a=l(""),n=l(""),b=l(""),i=l(""),v=l(""),s=l(1),g=l([{nombre:"Ana Martínez",correo:"ana@example.com",rol:"admin"},{nombre:"Luis Torres",correo:"luis@example.com",rol:"caja"},{nombre:"Carlos Núñez",correo:"carlos@example.com",rol:"impresion"},{nombre:"María López",correo:"maria@example.com",rol:"caja"},{nombre:"Pedro Sánchez",correo:"pedro@example.com",rol:"impresion"},{nombre:"Laura Gómez",correo:"laura@example.com",rol:"admin"}]),w=f(()=>v.value?g.value.filter(d=>d.rol===v.value):g.value),k=f(()=>Math.ceil(w.value.length/c)),S=f(()=>{const d=(s.value-1)*c;return w.value.slice(d,d+c)});function z(){if(!a.value||!n.value||!b.value||!i.value){j.fire({title:"Datos incompletos",text:"Por favor llena todos los campos.",icon:"error",confirmButtonText:"Entendido"});return}g.value.push({nombre:a.value,correo:n.value,rol:i.value}),j.fire({title:"¡Usuario registrado!",text:`Se ha registrado exitosamente a ${a.value}.`,icon:"success",confirmButtonText:"OK"}).then(()=>{p.value=!1,a.value="",n.value="",b.value="",i.value="",s.value=1})}return(d,o)=>(m(),x(U,null,[e("div",A,[e("div",N,[o[9]||(o[9]=e("h2",{class:"text-3xl font-bold text-gray-800"},"Gestión de Usuarios",-1)),e("button",{onClick:o[0]||(o[0]=t=>p.value=!0),class:"px-4 py-2 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-md shadow-sm transition"}," Registrar usuario ")]),e("div",$,[o[11]||(o[11]=e("label",{class:"text-sm font-medium text-gray-600"},"Filtrar por rol:",-1)),u(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>v.value=t),class:"px-3 py-1 border border-slate-300 rounded-md bg-white text-sm"},o[10]||(o[10]=[e("option",{value:""},"Todos",-1),e("option",{value:"admin"},"Administrador",-1),e("option",{value:"caja"},"Caja",-1),e("option",{value:"impresion"},"Impresión",-1)]),512),[[C,v.value]])]),e("table",q,[o[12]||(o[12]=e("thead",{class:"bg-gray-100 text-left"},[e("tr",null,[e("th",{class:"p-3 font-bold text-gray-600"},"#"),e("th",{class:"p-3 font-bold text-gray-600"},"Nombre"),e("th",{class:"p-3 font-bold text-gray-600"},"Correo"),e("th",{class:"p-3 font-bold text-gray-600"},"Rol")])],-1)),e("tbody",null,[(m(!0),x(U,null,T(S.value,(t,h)=>(m(),x("tr",{key:t.correo,class:R(h%2===0?"bg-white":"bg-gray-50")},[e("td",F,r(h+1+(s.value-1)*c),1),e("td",L,r(t.nombre),1),e("td",D,r(t.correo),1),e("td",E,r(t.rol),1)],2))),128))])]),e("div",G,[e("button",{onClick:o[2]||(o[2]=t=>s.value--),disabled:s.value===1,class:"px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50"}," ← Anterior ",8,I),e("span",null,"Página "+r(s.value)+" de "+r(k.value),1),e("button",{onClick:o[3]||(o[3]=t=>s.value++),disabled:s.value===k.value,class:"px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50"}," Siguiente → ",8,_)])]),(m(),M(P,{to:"body"},[p.value?(m(),x("div",K,[e("div",O,[e("button",{onClick:o[4]||(o[4]=t=>p.value=!1),class:"absolute top-3 right-3 text-gray-500 hover:text-red-500 text-xl"}," × "),e("form",{onSubmit:B(z,["prevent"]),class:"space-y-4"},[o[18]||(o[18]=e("h2",{class:"text-lg font-semibold text-center text-sky-700"},"Registro de Usuario",-1)),e("div",H,[o[13]||(o[13]=e("label",{class:"text-sm font-medium"},"Nombre completo",-1)),u(e("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>a.value=t),type:"text",required:"",class:"px-3 py-1 border border-slate-400 rounded-md bg-white"},null,512),[[y,a.value]])]),e("div",J,[o[14]||(o[14]=e("label",{class:"text-sm font-medium"},"Correo",-1)),u(e("input",{"onUpdate:modelValue":o[6]||(o[6]=t=>n.value=t),type:"email",required:"",class:"px-3 py-1 border border-slate-400 rounded-md bg-white"},null,512),[[y,n.value]])]),e("div",Q,[o[15]||(o[15]=e("label",{class:"text-sm font-medium"},"Contraseña",-1)),u(e("input",{"onUpdate:modelValue":o[7]||(o[7]=t=>b.value=t),type:"password",required:"",class:"px-3 py-1 border border-slate-400 rounded-md bg-white"},null,512),[[y,b.value]])]),e("div",W,[o[17]||(o[17]=e("label",{class:"text-sm font-medium"},"Rol",-1)),u(e("select",{"onUpdate:modelValue":o[8]||(o[8]=t=>i.value=t),required:"",class:"px-3 py-1 border border-slate-400 rounded-md bg-white"},o[16]||(o[16]=[e("option",{disabled:"",value:""},"Selecciona un rol",-1),e("option",{value:"admin"},"Administrador",-1),e("option",{value:"caja"},"Caja",-1),e("option",{value:"impresion"},"Impresión",-1)]),512),[[C,i.value]])]),o[19]||(o[19]=e("button",{type:"submit",class:"w-full py-2 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-md transition"}," Registrar ",-1))],32)])])):V("",!0)]))],64))}};export{oe as default};
