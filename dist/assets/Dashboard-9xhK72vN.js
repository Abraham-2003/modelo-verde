import{d as s,g as D,l as x,m as M,c as m,a as e,h as V,F as h,r as S,i as q,p as j,w as f,v as y,n as u,t as v,f as I,T as R,o as c}from"./index-BPA-GSpv.js";import{S as w}from"./sweetalert2.esm.all-BQIkj5Wb.js";/* empty css                        */const U={class:"max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-xl"},E={class:"flex items-center justify-between mb-6"},H={class:"flex flex-wrap gap-3 mb-6"},O=["onClick"],L={class:"overflow-x-auto"},N={class:"min-w-full text-sm border rounded-lg overflow-hidden"},K={class:"p-4 border border-white font-mono rounded-l-md"},P={class:"p-4 border border-white font-semibold"},A={class:"p-4 border border-white rounded-r-md"},G={key:0,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},J={class:"bg-white rounded-xl shadow-lg w-full max-w-3xl p-8 relative"},Q={class:"grid grid-cols-2 gap-4"},W={class:"flex flex-col"},X={class:"flex flex-col"},Y={class:"text-right font-semibold text-sky-700 text-sm"},Z={class:"flex flex-col"},ee={class:"flex flex-col"},se={__name:"Dashboard",setup(oe){const p=s(!1),T=s([{numero:7474701,tipo:"0",fecha:"01/08/2025 22:00"},{numero:7474702,tipo:"00",fecha:"01/08/2025 22:01"},{numero:7474703,tipo:"1",fecha:"01/08/2025 22:02"},{numero:7474704,tipo:"2",fecha:"01/08/2025 22:03"},{numero:7474705,tipo:"rechazo",fecha:"01/08/2025 22:04"},{numero:7474706,tipo:"1",fecha:"01/08/2025 22:05"},{numero:7474707,tipo:"0",fecha:"01/08/2025 22:06"}]),b=s("todos"),F=["todos","rechazo","0","00","1","2"],_=D(()=>b.value==="todos"?T.value:T.value.filter(l=>l.tipo===b.value));function C(l){return{rechazo:"bg-purple-100 text-purple-800",0:"bg-yellow-100 text-yellow-700","00":"bg-green-100 text-green-700",1:"bg-orange-100 text-orange-700",2:"bg-red-100 text-red-700"}[l]||"bg-gray-100 text-gray-700"}function k(l){return{todos:"Todos",rechazo:"Rechazo (morado)",0:"Tipo 0 (amarillo)","00":"Tipo 00 (verde)",1:"Tipo 1 (naranja)",2:"Tipo 2 (rojo)"}[l]||l}const a=s(0),r=s(null),i=s(0),n=s(""),d=s(""),g=s(!1);x(a,()=>{!g.value&&a.value>0&&(r.value=a.value+99)}),x(r,l=>{g.value=l!==a.value+99}),x([a,r],()=>{i.value=r.value>=a.value?r.value-a.value+1:0}),M(()=>{const l=new Date;d.value=l.toISOString().slice(0,10)});function z(){if(a.value<=0||r.value<=0||i.value<=0||!d.value||!n.value){w.fire({title:"Campos incompletos o inválidos",text:"Por favor corrige los errores antes de continuar.",icon:"error",confirmButtonText:"Entendido"});return}w.fire({title:"¿Deseas registrar este lote?",text:`Se registrarán ${i.value} hologramas del tipo "${n.value}".`,icon:"question",showCancelButton:!0,confirmButtonText:"Sí, continuar",cancelButtonText:"Cancelar"}).then(l=>{l.isConfirmed&&B()})}function B(){console.log({folioInicial:a.value,folioFinal:r.value,fecha:d.value,tipo:n.value,cantidad:i.value}),w.fire({title:"¡Lote registrado!",text:`Se han cargado correctamente ${i.value} hologramas del tipo "${n.value}".`,icon:"success",confirmButtonText:"OK"}).then(()=>{$(),p.value=!1})}function $(){a.value=0,r.value=null,n.value="",i.value=0,g.value=!1;const l=new Date;d.value=l.toISOString().slice(0,10)}return(l,o)=>(c(),m(h,null,[e("div",U,[e("div",E,[o[6]||(o[6]=e("h2",{class:"text-3xl font-bold text-gray-800"},"Historial de Cargas",-1)),e("button",{onClick:o[0]||(o[0]=t=>p.value=!0),class:"px-4 py-2 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-md shadow-sm transition"}," Registrar nuevo lote ")]),e("div",H,[(c(),m(h,null,S(F,t=>e("button",{key:t,onClick:te=>b.value=t,class:u(["px-4 py-2 rounded-full font-semibold transition",b.value===t?"bg-black text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},v(k(t)),11,O)),64))]),e("div",L,[e("table",N,[o[7]||(o[7]=e("thead",{class:"bg-gray-100 text-left"},[e("tr",null,[e("th",{class:"p-3 font-bold text-gray-600"},"#"),e("th",{class:"p-3 font-bold text-gray-600"},"Tipo"),e("th",{class:"p-3 font-bold text-gray-600"},"Fecha")])],-1)),e("tbody",null,[(c(!0),m(h,null,S(_.value,t=>(c(),m("tr",{key:t.numero,class:u([" rounded-lg shadow-sm transition-all",C(t.tipo)]),style:{"margin-bottom":"0.5rem"}},[e("td",K,v(t.numero),1),e("td",P,v(k(t.tipo)),1),e("td",A,v(t.fecha),1)],2))),128))])])])]),(c(),V(R,{to:"body"},[p.value?(c(),m("div",G,[e("div",J,[e("button",{onClick:o[1]||(o[1]=t=>p.value=!1),class:"absolute top-3 right-3 text-gray-500 hover:text-red-500 text-xl"}," × "),e("form",{onSubmit:j(z,["prevent"]),class:"space-y-6"},[o[13]||(o[13]=e("h2",{class:"text-lg font-semibold text-center text-sky-700"},"Registro de Hologramas",-1)),e("div",Q,[e("div",W,[o[8]||(o[8]=e("label",{class:"text-sm font-medium"},"Folio inicial",-1)),f(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>a.value=t),type:"number",class:u(["px-2 py-1 rounded-md bg-white",a.value<=0?"border-red-500 border":"border-slate-400 border"]),required:""},null,2),[[y,a.value,void 0,{number:!0}]])]),e("div",X,[o[9]||(o[9]=e("label",{class:"text-sm font-medium"},"Folio final",-1)),f(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>r.value=t),type:"number",class:u(["px-2 py-1 rounded-md bg-white",r.value<=a.value?"border-red-500 border":"border-slate-400 border"]),required:""},null,2),[[y,r.value,void 0,{number:!0}]])])]),e("div",Y," Total a registrar: "+v(i.value)+" hologramas ",1),e("div",Z,[o[11]||(o[11]=e("label",{class:"text-sm font-medium"},"Tipo de holograma",-1)),f(e("select",{"onUpdate:modelValue":o[4]||(o[4]=t=>n.value=t),class:u(["px-2 py-1 rounded-md bg-white",n.value?"border-slate-400 border":"border-red-500 border"]),required:""},o[10]||(o[10]=[e("option",{disabled:"",value:""},"Selecciona tipo",-1),e("option",{value:"rechazo"},"Rechazo",-1),e("option",{value:"0"},"Tipo 0",-1),e("option",{value:"00"},"Tipo 00",-1),e("option",{value:"1"},"Tipo 1",-1),e("option",{value:"2"},"Tipo 2",-1)]),2),[[I,n.value]])]),e("div",ee,[o[12]||(o[12]=e("label",{class:"text-sm font-medium"},"Fecha",-1)),f(e("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>d.value=t),type:"date",class:u(["px-2 py-1 rounded-md bg-white",d.value?"border-slate-400 border":"border-red-500 border"]),required:""},null,2),[[y,d.value]])]),o[14]||(o[14]=e("button",{type:"submit",class:"w-full py-2 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-md shadow-sm transition-colors"}," Subir lote ",-1))],32)])])):q("",!0)]))],64))}};export{se as default};
