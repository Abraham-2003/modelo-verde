import{d as s,g,m as D,c as v,a as e,h as M,w as f,v as x,F as P,r as N,t as n,i as $,p as A,f as F,T as V,o as p,n as q}from"./index-C3CkEuWw.js";import{S as h}from"./sweetalert2.esm.all-BQIkj5Wb.js";/* empty css                        */const U={class:"max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-xl"},Z={class:"flex items-center justify-between mb-4"},z={class:"mb-4"},E={class:"min-w-full text-sm border rounded-lg overflow-hidden"},H={class:"p-3 font-mono"},I={class:"p-3 font-semibold"},O={class:"p-3"},j={class:"p-3 capitalize"},G={class:"p-3"},L={class:"mt-4 flex justify-end items-center gap-2 text-sm"},J=["disabled"],K=["disabled"],R={key:0,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},X={class:"bg-white rounded-xl shadow-lg w-full max-w-lg p-8 relative"},Y={class:"flex flex-col"},Q={class:"flex flex-col"},W=["value"],ee={class:"flex flex-col"},te={class:"flex flex-col"},y=5,ie={__name:"Dashboard",setup(ae){const b=s(!1),l=s(""),d=s(""),u=s(""),i=s(""),m=s(""),r=s(1),c=s([{numero:1001,placa:"ABC-123",tipo:"Particular",combustible:"gasolina",fecha:"02/08/2025"},{numero:1002,placa:"12XYZ78",tipo:"Discapacidad",combustible:"diesel",fecha:"02/08/2025"},{numero:1003,placa:"XY1234",tipo:"Carga",combustible:"hibrido",fecha:"01/08/2025"},{numero:1004,placa:"JHK-876",tipo:"Motocicleta",combustible:"gasolina",fecha:"03/08/2025"},{numero:1005,placa:"ZZ9999",tipo:"Transporte público",combustible:"gas",fecha:"03/08/2025"},{numero:1006,placa:"MNO-456",tipo:"Particular",combustible:"electricidad",fecha:"01/08/2025"},{numero:1007,placa:"AAA-111",tipo:"Carga",combustible:"diesel",fecha:"02/08/2025"},{numero:1008,placa:"BCD-222",tipo:"Discapacidad",combustible:"hibrido",fecha:"03/08/2025"},{numero:1009,placa:"EFG-333",tipo:"Motocicleta",combustible:"gasolina",fecha:"03/08/2025"},{numero:1010,placa:"HIJ-444",tipo:"Particular",combustible:"diesel",fecha:"01/08/2025"}]),w=g(()=>m.value?c.value.filter(o=>o.placa.toLowerCase().includes(m.value.toLowerCase())):c.value),C=g(()=>Math.ceil(w.value.length/y)),S=g(()=>{const o=(r.value-1)*y;return w.value.slice(o,o+y)});D(()=>{const o=new Date;i.value=o.toISOString().slice(0,10)});function T(o){const t=o.toUpperCase();return/^[A-Z]{3}/.test(t)?"Particular":/^\d{2}/.test(t)?"Discapacidad":/^[A-Z]{2}/.test(t)?"Carga":"Desconocido"}function k(){d.value=T(l.value)}function B(){if(!l.value||!u.value||!i.value){h.fire({title:"Campos incompletos",text:"Por favor completa todos los campos.",icon:"error",confirmButtonText:"Entendido"});return}k(),h.fire({title:"¿Confirmar datos?",html:`
      <strong>Placa:</strong> ${l.value} <br/>
      <strong>Tipo:</strong> ${d.value} <br/>
      <strong>Combustible:</strong> ${u.value} <br/>
      <strong>Fecha:</strong> ${i.value}
    `,icon:"question",showCancelButton:!0,confirmButtonText:"Sí, guardar",cancelButtonText:"Cancelar"}).then(o=>{if(o.isConfirmed){const t=c.value.length?c.value.at(-1).numero+1:1001;c.value.push({numero:t,placa:l.value,tipo:d.value,combustible:u.value,fecha:i.value}),h.fire({title:"Nota registrada",text:`Se ha guardado la nota para la placa ${l.value}.`,icon:"success",confirmButtonText:"OK"}).then(()=>{b.value=!1,l.value="",d.value="",u.value="";const a=new Date;i.value=a.toISOString().slice(0,10),r.value=1})}})}return(o,t)=>(p(),v(P,null,[e("div",U,[e("div",Z,[t[8]||(t[8]=e("h2",{class:"text-3xl font-bold text-gray-800"},"Historial de Notas",-1)),e("button",{onClick:t[0]||(t[0]=a=>b.value=!0),class:"px-4 py-2 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-md shadow-sm transition"}," Registrar nota ")]),e("div",z,[f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>m.value=a),placeholder:"Buscar por placa...",class:"w-full px-4 py-2 border border-slate-300 rounded-md bg-gray-50 text-sm"},null,512),[[x,m.value]])]),e("table",E,[t[9]||(t[9]=e("thead",{class:"bg-gray-100 text-left"},[e("tr",null,[e("th",{class:"p-3 font-bold text-gray-600"},"Nota #"),e("th",{class:"p-3 font-bold text-gray-600"},"Placa"),e("th",{class:"p-3 font-bold text-gray-600"},"Tipo"),e("th",{class:"p-3 font-bold text-gray-600"},"Combustible"),e("th",{class:"p-3 font-bold text-gray-600"},"Fecha")])],-1)),e("tbody",null,[(p(!0),v(P,null,N(S.value,(a,_)=>(p(),v("tr",{key:a.numero,class:q(_%2===0?"bg-white":"bg-gray-50")},[e("td",H,n(a.numero),1),e("td",I,n(a.placa),1),e("td",O,n(a.tipo),1),e("td",j,n(a.combustible),1),e("td",G,n(a.fecha),1)],2))),128))])]),e("div",L,[e("button",{onClick:t[2]||(t[2]=a=>r.value--),disabled:r.value===1,class:"px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50"}," ← Anterior ",8,J),e("span",null,"Página "+n(r.value)+" de "+n(C.value),1),e("button",{onClick:t[3]||(t[3]=a=>r.value++),disabled:r.value===C.value,class:"px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50"}," Siguiente → ",8,K)])]),(p(),M(V,{to:"body"},[b.value?(p(),v("div",R,[e("div",X,[e("button",{onClick:t[4]||(t[4]=a=>b.value=!1),class:"absolute top-3 right-3 text-gray-500 hover:text-red-500 text-xl"},"×"),e("form",{onSubmit:A(B,["prevent"]),class:"space-y-4"},[t[15]||(t[15]=e("h2",{class:"text-lg font-semibold text-center text-sky-700"},"Registro de Nota",-1)),e("div",Y,[t[10]||(t[10]=e("label",{class:"text-sm font-medium"},"Placa",-1)),f(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>l.value=a),onInput:k,type:"text",class:"px-3 py-1 border border-slate-400 rounded-md bg-white",required:""},null,544),[[x,l.value]])]),e("div",Q,[t[11]||(t[11]=e("label",{class:"text-sm font-medium"},"Tipo de placa",-1)),e("input",{value:d.value,disabled:"",class:"px-3 py-1 border border-slate-400 rounded-md bg-gray-100 text-gray-700"},null,8,W)]),e("div",ee,[t[13]||(t[13]=e("label",{class:"text-sm font-medium"},"Tipo de combustible",-1)),f(e("select",{"onUpdate:modelValue":t[6]||(t[6]=a=>u.value=a),class:"px-3 py-1 border border-slate-400 rounded-md bg-white",required:""},t[12]||(t[12]=[e("option",{disabled:"",value:""},"Selecciona tipo",-1),e("option",{value:"gasolina"},"Gasolina",-1),e("option",{value:"diesel"},"Diésel",-1),e("option",{value:"electrico"},"Eléctrico",-1),e("option",{value:"hibrido"},"Híbrido",-1)]),512),[[F,u.value]])]),e("div",te,[t[14]||(t[14]=e("label",{class:"text-sm font-medium"},"Fecha",-1)),f(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>i.value=a),type:"date",class:"px-3 py-1 border border-slate-400 rounded-md bg-white",required:""},null,512),[[x,i.value]])]),t[16]||(t[16]=e("button",{type:"submit",class:"w-full py-2 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-md transition"}," Guardar nota ",-1))],32)])])):$("",!0)]))],64))}};export{ie as default};
